import{_ as I,U as k,t as U}from"./pathToFile-cjpw7gPR.js";import{_ as w}from"./DeleteIcon.vue_vue_type_script_setup_true_lang-1ZPx5IJG.js";import{d as x,r,aG as E,c as i,f as c,j as d,i as g,o as u}from"./index-sE9P4Q9O.js";var C={VITE_API_URL:"https://makhazin.com.ly/api",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const P={key:1,class:"relative rounded-lg h-64"},V=["src"],S=x({__name:"ImageUpload",props:{imagePath:{},index:{}},emits:["handleImage"],setup(p,{emit:v}){const a=p,m=v,l=r(null),t=r(!1),e=r(""),o=r(null),h=s=>{var f;t.value=!0;const n=(f=s.target.files)==null?void 0:f[0];n&&U(n).then(b=>{t.value=!1,e.value=b,o.value=n,m("handleImage",o.value,"filled",a.index)})},_=()=>{l.value.click()},y=()=>{e.value="",l.value&&(l.value.value=""),o.value=null,m("handleImage",o.value,"empty",a.index)};return E(()=>{if(a.imagePath){const s=C.VITE_API_Storage;e.value=`${s}/${a.imagePath}`}}),(s,n)=>(u(),i("div",null,[c("input",{ref_key:"fileUpload",ref:l,class:"hidden",type:"file",accept:"image/*",onChange:h},null,544),!e.value&&!t.value?(u(),i("div",{key:0,class:"flex justify-center items-center bg-white rounded-lg h-64 border-2 border-slate-200 shadow-md hover:-translate-y-2 transition-all delay-100 cursor-pointer",onClick:_},[d(k)])):g("",!0),e.value?(u(),i("div",P,[c("img",{class:"rounded-lg border-4 border-gray-200 h-64 w-full object-cover object-center shadow-md",src:e.value,alt:"uploaded image"},null,8,V),c("div",{class:"absolute top-1 right-2 bg-gray-200 p-1 rounded-md hover:-translate-y-1 transition-all delay-150 cursor-pointer border-2 border-gray-400",onClick:y},[d(w,{fill:"fill-black","custom-style":"w-7 h-7"})])])):g("",!0),d(I,{"is-loading":t.value,"custom-style":"animate-spin m-auto h-8 w-8 text-gray-400"},null,8,["is-loading"])]))}});export{S as _};
