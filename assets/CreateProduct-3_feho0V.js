import{d,r as l,b as m,e as i,c as p,f as c,j as n,k as _,h as o,V as f,F as v,o as g,g as y,G as h,H as x}from"./index-sE9P4Q9O.js";import{p as P}from"./products-service-rn7XLkah.js";import{_ as k}from"./ProductForm.vue_vue_type_script_setup_true_lang-UTB38WNL.js";import{p as C}from"./productDetails-service-ZYZcBagp.js";import"./queryString-AL1HqB06.js";import"./formData-AERYmAuJ.js";import"./categories-service-RWCybIS-.js";import"./ImageUpload.vue_vue_type_script_setup_true_lang-QyoQWSnT.js";import"./pathToFile-cjpw7gPR.js";import"./DeleteIcon.vue_vue_type_script_setup_true_lang-1ZPx5IJG.js";import"./VSheet-MtFhQ-QK.js";import"./markets-service-9CeRDKxI.js";import"./VAutocomplete-OZIwKkOo.js";import"./filter-ySkqEX_B.js";const V={class:"flex justify-between"},b=c("h1",{class:"text-2xl font-medium"}," إضافة منتج جديد ",-1),M=d({__name:"CreateProduct",setup(w){const t=l(),r=m(),a=i({mutationFn:P,onSuccess:async e=>{t.value&&await s.mutateAsync({...t.value,product_id:e.data.id}),x.replace({name:"products"}),r.invalidateQueries({queryKey:["products"]})},onError:e=>{console.log(e)}}),s=i({mutationFn:C,onSuccess:()=>{r.invalidateQueries({queryKey:["details"]})},onError:e=>{console.log(e)}}),u=e=>{a.mutate(e),t.value={inventory:e.inventory,saller_price:e.saller_price,market_id:e.market_id}};return(e,B)=>(g(),p(v,null,[c("div",V,[b,n(f,{to:{name:"products"},variant:"outlined",color:"primary",size:"large","append-icon":o(h)},{default:_(()=>[y(" الرجوع الى المنتجات ")]),_:1},8,["append-icon"])]),n(k,{"is-loading":o(a).isPending.value||o(s).isPending.value,onSubmit:u},null,8,["is-loading"])],64))}});export{M as default};
