import{d as w,r as g,u as V,c as i,f as v,g as n,h as e,t as f,i as d,j as u,k as p,V as P,l as S,F as B,o as r,p as C,s as T}from"./index-sE9P4Q9O.js";import{d as A}from"./index-AJYIkLwR.js";import{V as D,L}from"./VDataTableServer-KxNtiX_H.js";import{B as _}from"./base-status-k7rMfTbK.js";import{g as N}from"./productDetails-service-ZYZcBagp.js";import"./_commonjsHelpers-5-cIlDoe.js";import"./filter-ySkqEX_B.js";import"./queryString-AL1HqB06.js";const F={class:"text-3xl font-medium"},j={key:0,class:"bg-gray-200 px-2 rounded-lg text-2xl"},q={class:"flex justify-end mt-8"},E={key:1,class:"shadow-lg rounded-lg mt-6 border border-gray-200"},M=w({__name:"ProductsDetailsList",setup(U){const h=g(""),t=g({page:1,limit:10,search_value:""}),a=V({queryKey:["details",t],queryFn:()=>N(t.value)}),x=[{title:"رمز المنتج",value:"product_info.product_code",width:"300px",sortable:!1},{title:"إسم المنتج",value:"product_info.name",width:"300px",sortable:!1},{title:"سعر الشراء",value:"saller_price",width:"300px",sortable:!1},{title:"إسم المحل",value:"market_info.name",width:"350px",sortable:!1},{title:"إسم مالك المحل",value:"market_info.owner_name",width:"300px",sortable:!1},{title:"الكمية",value:"inventory",width:"300px",sortable:!1},{title:"سعر البيع",value:"product_info.price",width:"250px",sortable:!1}],b=s=>s===_.Activated?"success":"error",y=s=>s===_.Activated?"مفعل":"غير مفعل",k=({page:s,limit:l})=>{t.value={...t.value,page:s??1,limit:l??10}};return A(()=>{t.value.search_value=h.value},300),(s,l)=>{var c,m;return r(),i(B,null,[v("h2",F,[n(" ربط المنتجات بمحل "),((c=e(a).data.value)==null?void 0:c.total)>0?(r(),i("span",j,f((m=e(a).data.value)==null?void 0:m.total),1)):d("",!0)]),v("div",q,[u(P,{"append-icon":e(C),to:{name:"add-products-details"},color:"primary",variant:"elevated",rounded:"xl",size:"large"},{default:p(()=>[n(" ربط منتج بمحل ")]),_:1},8,["append-icon"])]),e(a).isPending.value?(r(),S(L,{key:0})):d("",!0),e(a).data.value?(r(),i("div",E,[u(D,{sticky:"","items-per-page":t.value.limit,page:t.value.page,headers:x,"items-length":e(a).data.value.total,items:e(a).data.value.data,loading:e(a).isPending.value,"onUpdate:options":l[0]||(l[0]=o=>k({page:o.page,limit:o.itemsPerPage}))},{"item.status":p(({value:o})=>[u(T,{color:b(o)},{default:p(()=>[n(f(y(o)),1)]),_:2},1032,["color"])]),_:2},1032,["items-per-page","page","items-length","items","loading"])])):d("",!0)],64)}}});export{M as default};
