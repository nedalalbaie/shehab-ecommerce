import{d as m,I as l,u as p,b as _,e as f,c as y,f as i,j as a,k as g,h as e,V as h,F as x,o as b,g as v,G as V,H as q}from"./index-sE9P4Q9O.js";import{a as B,e as C}from"./discounts-service-8_GhC-Cv.js";import{_ as D}from"./DiscountForm.vue_vue_type_script_setup_true_lang-9JDA3uKy.js";import"./queryString-AL1HqB06.js";import"./format-date-q9jp0Fy1.js";import"./VAutocomplete-OZIwKkOo.js";import"./filter-ySkqEX_B.js";import"./VDatePicker-LLTWplpV.js";import"./VSpacer-1dX4bruf.js";import"./VSheet-MtFhQ-QK.js";const F={class:"flex justify-between"},N=i("h1",{class:"text-2xl font-medium"}," تعديل بيانات التخفيض ",-1),H=m({__name:"EditDiscount",setup(k){const r=l(),o=Number(r.params.id),u=p({queryKey:["discounts"],queryFn:()=>B(o)}),c=_(),s=f({mutationFn:({id:t,body:n})=>C(t,n),onSuccess:()=>{q.replace({name:"discounts"}),c.invalidateQueries({queryKey:["discounts"]})},onError:t=>{console.log(t)}}),d=t=>{s.mutate({body:t,id:o})};return(t,n)=>(b(),y(x,null,[i("div",F,[N,a(h,{to:{name:"discounts"},variant:"outlined",color:"primary",size:"large","append-icon":e(V)},{default:g(()=>[v(" الرجوع إلى التخفيضات ")]),_:1},8,["append-icon"])]),a(D,{"is-loading":e(s).isPending.value,discount:e(u).data.value,onSubmit:d},null,8,["is-loading","discount"])],64))}});export{H as default};
