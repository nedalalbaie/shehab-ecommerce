import{g as N,c as S}from"./orders-service-DZtj4z2A.js";import{S as u,c as D}from"./check-status-1CD4zFK3.js";import{d as E,r as O,u as B,b as F,e as L,c as d,f as t,g as f,h as s,t as c,i as _,j as a,l as y,F as T,m as q,a as P,o as n,aP as j,k as r,V as x,x as I,B as $,C as A,A as Q,H as M}from"./index-sE9P4Q9O.js";import{_ as G}from"./DeleteIcon.vue_vue_type_script_setup_true_lang-1ZPx5IJG.js";import{V as H}from"./ViewIcon-cZLHY9MM.js";import{L as K}from"./LoadingOrders-rB5XNYPP.js";import{_ as z}from"./EmptyData.vue_vue_type_script_setup_true_lang-h7VAi8C4.js";import{V as R}from"./VSpacer-1dX4bruf.js";import{V as U}from"./VDialog-1Ku-f6d7.js";import"./queryString-AL1HqB06.js";const J={class:"flex items-center justify-between mt-6"},W={class:"text-3xl font-medium"},X={key:0,class:"bg-gray-200 px-2 rounded-lg text-2xl"},Y=P('<div class="flex gap-4"><button class="bg-sky-200 py-1 px-2 rounded-md"> قيد المعالجة </button><button class="bg-sky-200 py-1 px-2 rounded-md"> قيد التوصيل </button><button class="bg-sky-200 py-1 px-2 rounded-md"> تم التوصيل </button><button class="bg-sky-200 py-1 px-2 rounded-md"> ملغية </button></div>',1),Z={key:0},tt={key:1,class:"mt-6 flex-grow flex flex-col justify-center"},et={class:"grid grid-cols-productsCards gap-x-4 gap-y-8 mt-6"},st={class:"text-xl text-center"},at={class:"mt-4 flex items-center border-b border-gray-700 pb-1"},ot=t("p",{class:"w-1/2"}," الحالة ",-1),rt={class:"mt-4 flex items-center border-b border-gray-700"},nt=t("p",{class:"w-1/2"}," التاريخ ",-1),lt={class:"w-1/2 text-center"},ct={class:"mt-4 flex items-center border-b border-gray-700"},dt=t("p",{class:"w-1/2"}," عدد العناصر ",-1),it={class:"w-1/2 text-center"},ut={class:"mt-4 flex items-center border-b border-gray-700"},_t=t("p",{class:"w-1/2"}," العنوان ",-1),mt={class:"w-1/2 text-center"},pt=t("div",{class:"mt-4 flex items-center border-b border-gray-700"},[t("p",{class:"w-1/2"}," رقم الهاتف "),t("p",{class:"w-1/2 text-center"}," 0925448193 ")],-1),ft={class:"mt-4 flex items-center border-b border-gray-700"},xt=t("p",{class:"w-1/2"}," الإجمالي ",-1),bt={class:"w-1/2 text-center"},yt={class:"flex justify-center gap-4 mt-6 text-white"},Ot=E({__name:"OrdersList",setup(gt){const b=O({page:1,limit:10}),l=B({queryKey:["orders",b],queryFn:()=>N(b.value)}),g=F(),h=L({mutationFn:S,onSuccess:()=>{M.replace({name:"orders"}),g.invalidateQueries({queryKey:["orders"]})},onError:o=>{console.log(o)}}),v=o=>{h.mutate(o)},w=o=>`إلغاء الطلبية ${o}# ?`,C=o=>{const i=new Date(o);if(!isNaN(i.getTime()))return i.toLocaleDateString()},k=o=>o.reduce((i,m)=>i+m);return(o,i)=>{var m;return n(),d("div",null,[t("div",J,[t("h1",W,[f(" الطلبات "),s(l).data.value&&s(l).data.value.total>0?(n(),d("span",X,c(s(l).data.value.total),1)):_("",!0)]),Y]),s(l).data.value?_("",!0):(n(),d("div",Z,[a(K)])),s(l).data.value?(n(),d("div",tt,[s(l).data.value.data.length===0?(n(),y(z,{key:0})):_("",!0),t("div",et,[(n(!0),d(T,null,q((m=s(l).data.value)==null?void 0:m.data,e=>(n(),d("div",{key:e.id,class:"bg-white shadow-lg rounded-lg p-4"},[t("p",st,c(e.order_number),1),t("div",at,[ot,t("p",{class:j(["w-1/2 text-center font-medium",{"text-blue-600":e.status===s(u).PENDING,"text-yellow-600":e.status===s(u).SHIPPING,"text-purple-600":e.status===s(u).CONFIRMED,"text-red-600":e.status===s(u).CANCELD}])},c(s(D)(e.status)),3)]),t("div",rt,[nt,t("p",lt,c(C(e.created_at)),1)]),t("div",ct,[dt,t("p",it,c(k(e.quantity_selected)),1)]),t("div",ut,[_t,t("p",mt,c(e.shipping_address),1)]),pt,t("div",ft,[xt,t("p",bt,c(e.total_price),1)]),t("div",yt,[a(x,{rounded:"xl",variant:"elevated",color:"primary",type:"submit",to:{name:"order-details",params:{id:e.id}}},{prepend:r(()=>[a(H)]),default:r(()=>[f(" عرض ")]),_:2},1032,["to"]),e.status!=s(u).CANCELD?(n(),y(U,{key:0,width:"500"},{activator:r(({props:p})=>[a(x,I(p,{rounded:"xl",variant:"elevated",color:"#004C6B",type:"submit"}),{prepend:r(()=>[a(G,{fill:"fill-white"})]),default:r(()=>[f(" إلغاء ")]),_:2},1040)]),default:r(({isActive:p})=>[a(Q,{title:w(e.order_number),rounded:"lg",color:"#EFE9F5",style:{"padding-block":"1.75rem !important"}},{default:r(()=>[a($,null,{default:r(()=>[f(" سيتم الغاء هذه الطلبية بشكل نهائي، سيتلقى الزبون اشعارا يوضح ان الطلبية تم الغاؤها. ")]),_:1}),a(A,null,{default:r(()=>[a(R),a(x,{text:"لا",onClick:V=>p.value=!1},null,8,["onClick"]),a(x,{text:"نعم",onClick:V=>{p.value=!1,v(e.id)}},null,8,["onClick"])]),_:2},1024)]),_:2},1032,["title"])]),_:2},1024)):_("",!0)])]))),128))])])):_("",!0)])}}});export{Ot as default};
